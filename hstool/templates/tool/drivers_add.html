{% extends '_layout.html' %}
{% load custom_filters %}

{% block title %}Add/Edit Driver of Change{% endblock %}

{% block content %}
	<div class="container-fluid">
		<h2>Add/Edit Driver of Change</h2>
		<form method="POST" class="form">
			{% csrf_token %}
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="form-group">
						<div class="row">
							<div class="col-md-4">
								{{ form.type.errors }}
								{{ form.type|label }}
								{{ form.type }}
							</div>
							<div class="col-md-4">
								{{ form.trend_type.errors }}
								{{ form.trend_type|label }}
								{{ form.trend_type }}
							</div>
							<div class="col-md-4">
								{{ form.geographical_scope.errors }}
								{{ form.geographical_scope|label }}
								{{ form.geographical_scope }}
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				{{ form.steep_category.errors }}
				{{ form.steep_category|label }}<br/>
				{{ form.steep_category }}
			</div>
			<div class="form-group">
				{{ form.time_horizon.errors }}
				{{ form.time_horizon|label }}<br/>
				{{ form.time_horizon }}
			</div>
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="form-group">
						<div class="row">
							<div class="col-md-4">
								{{ form.short_name.errors }}
								{{ form.short_name|label }}
								{{ form.short_name }}
							</div>
							<div class="col-md-7">
								{{ form.name.errors }}
								{{ form.name|label }}
								{{ form.name }}
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				{{ form.summary.errors }}
				{{ form.summary|label }}<br/>
				{{ form.summary }}
			</div>
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="row">
						<div class="col-md-5">
							<div class="form-group">
								{{ form.sources.errors }}
								{{ form.sources|label }}<br/>
								{{ form.sources }}
							</div>
							<!-- Button trigger modal -->
							<a class="btn btn-link launch-modal" data-toggle="modal"
								 data-target="#myModal"
								 data-action="{% url 'add_modal' 'sources'%}"
								 data-title="Add new Source">
								Add new source
							</a>
						</div>
						<div class="col-md-5">
							<div class="form-group">
								{{ form.figures.errors }}
								{{ form.figures|label }}<br/>
								{{ form.figures }}
							</div>
							<!-- Button trigger modal -->
							<a class="btn btn-link launch-modal" data-toggle="modal"
								 data-target="#myModal"
								 data-action="{% url 'add_modal' 'figures'%}"
								 data-title="Add new Fact & Figure">
								Add new fact & figure
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				{{ form.url.errors }}
				{{ form.url|label }}<br/>
				{{ form.url }}
			</div>
			<input class="btn btn-success" type="submit" value="Save">
			<a class="btn btn-link" href="{% url 'drivers:list' %}">Back</a>
		</form>
	</div>
	{% include '_modal.html'%}

{% endblock %}
