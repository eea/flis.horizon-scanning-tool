{% extends '_layout.html' %}
{% load custom_filters %}

{% block title %}Add new Driver of Change{% endblock %}

{% block content %}
	<div class="container">
		<h3>Add new Driver of Change</h3>
		<br/>
		<form method="POST" class="form">
			{% csrf_token %}
			<div class="form-group">
				{{ form.type.errors }}
				{{ form.type|label }}
				{{ form.type }}&ensp;&ensp;&ensp;&ensp;
				{{ form.trend_type.errors }}
				{{ form.trend_type|label }}
				{{ form.trend_type }}&ensp;&ensp;&ensp;&ensp;
				{{ form.geographical_scope.errors }}
				{{ form.geographical_scope|label }}
				{{ form.geographical_scope }}
			</div>
			<div class="form-group">
				{{ form.steep_category.errors }}
				{{ form.steep_category|label }}<br/>
				{{ form.steep_category }}
			</div>
			<div class="form-group">
				{{ form.time_horizon.errors }}
				{{ form.time_horizon|label }}<br/>
				{{ form.time_horizon }}
			</div>
			<div class="form-group">
				{{ form.short_name.errors }}
				{{ form.short_name|label }}
				{{ form.short_name }}&ensp;&ensp;&ensp;&ensp;
				{{ form.name.errors }}
				{{ form.name|label }}
				{{ form.name }}
			</div>
			<div class="form-group">
				{{ form.summary.errors }}
				{{ form.summary|label }}<br/>
				{{ form.summary }}
			</div>
			<div class="row">
				<div class="col-sm-2">
					<div class="form-group">
						{{ form.sources.errors }}
						{{ form.sources|label }}<br/>
						{{ form.sources }}
					</div>
					<!-- Button trigger modal -->
					<a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#sourceModal"
						 id="add-modal-1" data-action="{% url 'add_modal' 'Source'%}">
						Add new source
					</a>
				</div>
				<div col="col-sm-2">
					<div class="form-group">
						{{ form.figures.errors }}
						{{ form.figures|label }}<br/>
						{{ form.figures }}
					</div>
					<!-- Button trigger modal -->
					<a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#figureModal"
						 id="add-modal-2" data-action="{% url 'add_modal' 'Figure'%}">
						Add new fact & figuref
					</a>
				</div>
			</div>
			<div class="form-group">
				{{ form.url.errors }}
				{{ form.url|label }}<br/>
				{{ form.url }}
			</div>
			<input class="btn btn-success" type="submit" value="Back" name="cancel">
			<input class="btn btn-success col-sm-offset-1" type="submit" value="Save">
		</form>
	</div>
	{% include '_modal.html' with title='Add new source' modal_id='sourceModal' model='Source' %}
	{% include '_modal.html' with title='Add new fact & figure' modal_id='figureModal' model='Figure' %}

{% endblock %}
