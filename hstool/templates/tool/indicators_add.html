{% extends '_layout.html' %}
{% load custom_filters %}

{% block title %}Add new Indicator{% endblock %}

{% block content %}
	<div class="container">
		<h3>Add new Indicator</h3>
		<br/>
		<form method="POST">
			{% csrf_token %}
			<div class="form-group">
				{{ form.theme.errors }}
				{{ form.theme|label }}<br/>
				{{ form.theme }}
			</div>
			<div class="form-group">
				{{ form.short_name.errors }}
				{{ form.short_name|label }}<br/>
				{{ form.short_name }}
			</div>
			<div class="form-group">
				{{ form.name.errors }}
				{{ form.name|label }}<br/>
				{{ form.name }}
			</div>
			<div class="form-group">
				{{ form.geographical_scope.errors }}
				{{ form.geographical_scope|label }}
				{{ form.geographical_scope }}&ensp;&ensp;&ensp;&ensp;
				{{ form.country.errors }}
				{{ form.country|label }}
				{{ form.country }}
			</div>
			<div class="form-group">
				<p><strong>Timeline*</strong></p>
				{{ form.year_base.errors }}
				{{ form.year_base|label }}
				{{ form.year_base }}&ensp;&ensp;&ensp;&ensp;
				{{ form.year_end.errors }}
				{{ form.year_end|label }}
				{{ form.year_end }}&ensp;&ensp;&ensp;&ensp;
				{{ form.timeline.errors }}
				{{ form.timeline|label }}
				{{ form.timeline }}
			</div>
			<div class="row">
				<div class="col-sm-2">
					<div class="form-group">
						{{ form.sources.errors }}
						{{ form.sources|label }}<br/>
						{{ form.sources }}
					</div>
					<!-- Button trigger modal -->
					<a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#sourceModal"
						 id="add-modal-1" data-action="{% url 'add_modal' 'Source'%}">
						Add new source
					</a>
				</div>
				<div class="col-sm-2">
					<div class="form-group">
						{{ form.figures.errors }}
						{{ form.figures|label }}<br/>
						{{ form.figures }}
					</div>
					<a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#figureModal"
						 id="add-modal-2" data-action="{% url 'add_modal' 'Figure'%}">
						Add new fact & figure
					</a>
				</div>
			</div>
			<div class="form-group">
				{{ form.url.errors }}
				{{ form.url|label }}<br/>
				{{ form.url }}
			</div>
			<input class="btn btn-success" type="submit" value="Back" name="cancel">
			<input class="btn btn-success col-sm-offset-1" type="submit" value="Save">
		</form>
	</div>
	{% include '_modal.html' with title='Add new source' modal_id='sourceModal' model='Source' %}
	{% include '_modal.html' with title='Add new fact & figure' modal_id='figureModal' model='Figure' %}

{% endblock %}
