{% extends '_layout.html' %}
{% load custom_filters %}

{% block content %}
  <div class="container-fluid" id="view">

    <h2 class="page-header">{{ assessment.title }}</h2>

    <div class="assessment-content">

      <p>{{ assessment.description }}</p>

    </div>

    <div class="actions">
      <a href="{% url 'relations:add' assessment.id %}" class="btn btn-primary btn-sm">
        <span class="glyphicon glyphicon-plus"></span> &nbsp;
          Add relation</a>
      <a href="{% url 'assessments:update' assessment.id %}?next={% url 'home_view' %}" class="btn btn-primary btn-sm pull-right">
          <span class="glyphicon glyphicon-pencil"></span> &nbsp;
            Edit </a>
    </div>

    <div>
      <h3>Relations</h3>

      <table id ="objects_listing" class="table table-condensed table-bordered table-hover">
        <thead>
            <tr>
                <th>Source</th>
                <th>Destination</th>
                <th>Type</th>
            </tr>
        </thead>

        <tbody>
        {% for relation in relations %}
            <tr>
                <td>{{ relation.source }}</td>
                <td>{{ relation.destination }}</td>
                <td>{{ relation.relationship_type|verbose }}</td>
            </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
{% endblock %}
